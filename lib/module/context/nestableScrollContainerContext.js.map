{"version":3,"names":["React","useContext","useMemo","useRef","useState","useSharedValue","NestableScrollContainerContext","createContext","undefined","useSetupNestableScrollContextValue","forwardedRef","outerScrollEnabled","setOuterScrollEnabled","scrollViewSize","scrollableRefInner","scrollableRef","outerScrollOffset","containerSize","contextVal","NestableScrollContainerProvider","children","createElement","Provider","value","useNestableScrollContainerContext","useSafeNestableScrollContainerContext","Error"],"sources":["nestableScrollContainerContext.tsx"],"sourcesContent":["import React, { useContext, useMemo, useRef, useState } from \"react\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport Animated, { useSharedValue } from \"react-native-reanimated\";\n\ntype NestableScrollContainerContextVal = ReturnType<\n  typeof useSetupNestableScrollContextValue\n>;\nconst NestableScrollContainerContext = React.createContext<\n  NestableScrollContainerContextVal | undefined\n>(undefined);\n\nfunction useSetupNestableScrollContextValue({\n  forwardedRef,\n}: {\n  forwardedRef?: React.MutableRefObject<ScrollView>;\n}) {\n  const [outerScrollEnabled, setOuterScrollEnabled] = useState(true);\n  const scrollViewSize = useSharedValue(0);\n  const scrollableRefInner = useRef<ScrollView>(null);\n  const scrollableRef = forwardedRef || scrollableRefInner;\n  const outerScrollOffset = useSharedValue(0);\n  const containerSize = useSharedValue(0);\n\n  const contextVal = useMemo(\n    () => ({\n      outerScrollEnabled,\n      setOuterScrollEnabled,\n      outerScrollOffset,\n      scrollViewSize,\n      scrollableRef,\n      containerSize,\n    }),\n    [outerScrollEnabled]\n  );\n\n  return contextVal;\n}\n\nexport function NestableScrollContainerProvider({\n  children,\n  forwardedRef,\n}: {\n  children: React.ReactNode;\n  forwardedRef?: React.MutableRefObject<ScrollView>;\n}) {\n  const contextVal = useSetupNestableScrollContextValue({ forwardedRef });\n  return (\n    <NestableScrollContainerContext.Provider value={contextVal}>\n      {children}\n    </NestableScrollContainerContext.Provider>\n  );\n}\n\nexport function useNestableScrollContainerContext() {\n  const value = useContext(NestableScrollContainerContext);\n  return value;\n}\n\nexport function useSafeNestableScrollContainerContext() {\n  const value = useNestableScrollContainerContext();\n  if (!value) {\n    throw new Error(\n      \"useSafeNestableScrollContainerContext must be called within a NestableScrollContainerContext.Provider\"\n    );\n  }\n  return value;\n}\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,OAAO,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAEpE,SAAmBC,cAAc,QAAQ,yBAAyB;AAKlE,MAAMC,8BAA8B,gBAAGN,KAAK,CAACO,aAAa,CAExDC,SAAS,CAAC;AAEZ,SAASC,kCAAkCA,CAAC;EAC1CC;AAGF,CAAC,EAAE;EACD,MAAM,CAACC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAClE,MAAMS,cAAc,GAAGR,cAAc,CAAC,CAAC,CAAC;EACxC,MAAMS,kBAAkB,GAAGX,MAAM,CAAa,IAAI,CAAC;EACnD,MAAMY,aAAa,GAAGL,YAAY,IAAII,kBAAkB;EACxD,MAAME,iBAAiB,GAAGX,cAAc,CAAC,CAAC,CAAC;EAC3C,MAAMY,aAAa,GAAGZ,cAAc,CAAC,CAAC,CAAC;EAEvC,MAAMa,UAAU,GAAGhB,OAAO,CACxB,OAAO;IACLS,kBAAkB;IAClBC,qBAAqB;IACrBI,iBAAiB;IACjBH,cAAc;IACdE,aAAa;IACbE;EACF,CAAC,CAAC,EACF,CAACN,kBAAkB,CACrB,CAAC;EAED,OAAOO,UAAU;AACnB;AAEA,OAAO,SAASC,+BAA+BA,CAAC;EAC9CC,QAAQ;EACRV;AAIF,CAAC,EAAE;EACD,MAAMQ,UAAU,GAAGT,kCAAkC,CAAC;IAAEC;EAAa,CAAC,CAAC;EACvE,oBACEV,KAAA,CAAAqB,aAAA,CAACf,8BAA8B,CAACgB,QAAQ;IAACC,KAAK,EAAEL;EAAW,GACxDE,QACsC,CAAC;AAE9C;AAEA,OAAO,SAASI,iCAAiCA,CAAA,EAAG;EAClD,MAAMD,KAAK,GAAGtB,UAAU,CAACK,8BAA8B,CAAC;EACxD,OAAOiB,KAAK;AACd;AAEA,OAAO,SAASE,qCAAqCA,CAAA,EAAG;EACtD,MAAMF,KAAK,GAAGC,iCAAiC,CAAC,CAAC;EACjD,IAAI,CAACD,KAAK,EAAE;IACV,MAAM,IAAIG,KAAK,CACb,uGACF,CAAC;EACH;EACA,OAAOH,KAAK;AACd","ignoreList":[]}